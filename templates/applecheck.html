<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iFree - Проверка IMEI Apple</title>
    <link rel="stylesheet" href="static/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Градиентные фоны -->
    <div class="gradient-bg gradient-1"></div>
    <div class="gradient-bg gradient-2"></div>
    
    <!-- Главный контент -->
    <div class="main-content">
        <div class="section-title">
            <h1>Проверка IMEI Apple</h1>
            <p>Выберите тип проверки и введите IMEI или серийный номер устройства</p>
        </div>
        
        <!-- Карточки с типами проверок -->
        <div class="row" id="services-container">
            <!-- Карточки будут сгенерированы с помощью JavaScript -->
        </div>
        
        <!-- Форма для ввода IMEI -->
        <div class="card" id="imei-form-container" style="display: none;">
            <div class="card-header">
                <h2 id="selected-service-title">Проверка устройства</h2>
            </div>
            <div class="card-body">
                <div class="form-group">
                    <label class="form-label">Введите IMEI или серийный номер:</label>
                    <input type="text" class="form-control" id="imei-input" placeholder="15-значный IMEI или серийный номер">
                    <div class="error-message" id="imei-error"></div>
                </div>
                <button class="btn-primary" id="check-btn">Запустить проверку</button>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно результатов -->
    <div class="result-modal" id="result-modal">
        <div class="modal-content">
            <div class="card-header">
                <h2>Результаты проверки</h2>
            </div>
            <div class="card-body" id="result-content">
                <!-- Результаты будут отображены здесь -->
            </div>
            <div class="card-footer" style="text-align: center; padding: 20px;">
                <button class="btn-primary" id="close-modal">Закрыть</button>
            </div>
        </div>
    </div>
    
    <!-- Спиннер загрузки -->
    <div class="spinner-container" id="spinner">
        <div class="spinner"></div>
    </div>
    
    <script>
        // Данные для карточек сервисов
        const services = [
            { 
                id: 'free', 
                title: 'Базовая проверка', 
                icon: 'fa-mobile-screen', 
                description: 'Проверка статуса активации и модели устройства', 
                price: 'Бесплатно' 
            },
            { 
                id: 'fmi', 
                title: 'Статус FMI', 
                icon: 'fa-lock', 
                description: 'Проверка статуса "Найти iPhone" (Find My iPhone)', 
                price: '0.99$' 
            },
            { 
                id: 'blacklist', 
                title: 'Черный список', 
                icon: 'fa-ban', 
                description: 'Проверка нахождения устройства в черном списке', 
                price: '1.49$' 
            },
            { 
                id: 'sim_lock', 
                title: 'SIM-лок', 
                icon: 'fa-sim-card', 
                description: 'Проверка блокировки по оператору связи', 
                price: '1.99$' 
            },
            { 
                id: 'activation', 
                title: 'Статус активации', 
                icon: 'fa-bolt', 
                description: 'Проверка статуса активации устройства', 
                price: '0.99$' 
            },
            { 
                id: 'carrier', 
                title: 'Оператор связи', 
                icon: 'fa-tower-cell', 
                description: 'Определение оператора, к которому привязано устройство', 
                price: '1.49$' 
            },
            { 
                id: 'mdm', 
                title: 'MDM блокировка', 
                icon: 'fa-building-shield', 
                description: 'Проверка корпоративной блокировки MDM', 
                price: '2.49$' 
            }
        ];
        
        // Инициализация страницы
        document.addEventListener('DOMContentLoaded', function() {
            // Генерация карточек сервисов
            const container = document.getElementById('services-container');
            services.forEach(service => {
                const card = document.createElement('div');
                card.className = 'col-md-4 mb-4';
                card.innerHTML = `
                    <div class="card service-card" data-service="${service.id}">
                        <div class="service-icon">
                            <i class="fas ${service.icon}"></i>
                        </div>
                        <div class="service-title">${service.title}</div>
                        <p style="min-height: 60px; padding: 0 15px;">${service.description}</p>
                        <div class="service-price">${service.price}</div>
                        <div class="service-action">Выбрать</div>
                    </div>
                `;
                container.appendChild(card);
            });
            
            // Обработчики событий
            setupEventListeners();
        });
        
        function setupEventListeners() {
            // Выбор сервиса
            document.querySelectorAll('.service-card').forEach(card => {
                card.addEventListener('click', function() {
                    const serviceId = this.getAttribute('data-service');
                    selectService(serviceId);
                });
            });
            
            // Запуск проверки
            document.getElementById('check-btn').addEventListener('click', startCheck);
            
            // Закрытие модального окна
            document.getElementById('close-modal').addEventListener('click', function() {
                document.getElementById('result-modal').style.display = 'none';
            });
        }
        
        // Выбор сервиса
        function selectService(serviceId) {
            // Сбрасываем все карточки
            document.querySelectorAll('.service-card').forEach(card => {
                card.classList.remove('selected');
                card.style.opacity = '0.7';
                card.style.transform = 'scale(0.95)';
            });
            
            // Выделяем выбранную карточку
            const selectedCard = document.querySelector(`.service-card[data-service="${serviceId}"]`);
            selectedCard.classList.add('selected');
            selectedCard.style.opacity = '1';
            selectedCard.style.transform = 'scale(1)';
            
            // Находим название сервиса
            const service = services.find(s => s.id === serviceId);
            document.getElementById('selected-service-title').textContent = service.title;
            
            // Показываем форму ввода
            document.getElementById('imei-form-container').style.display = 'block';
            document.getElementById('imei-input').focus();
        }
        
        // Запуск проверки
        function startCheck() {
            const imei = document.getElementById('imei-input').value.trim();
            const errorElement = document.getElementById('imei-error');
            
            // Проверка ввода
            if (!imei) {
                errorElement.textContent = 'Пожалуйста, введите IMEI или серийный номер';
                errorElement.style.display = 'block';
                return;
            }
            
            // Сброс ошибки
            errorElement.style.display = 'none';
            
            // Получаем выбранный сервис
            const selectedCard = document.querySelector('.service-card.selected');
            if (!selectedCard) {
                errorElement.textContent = 'Пожалуйста, выберите тип проверки';
                errorElement.style.display = 'block';
                return;
            }
            
            const serviceType = selectedCard.getAttribute('data-service');
            
            // Показываем спиннер
            document.getElementById('spinner').style.display = 'flex';
            
            // Имитация запроса к API
            setTimeout(() => {
                // Скрываем спиннер
                document.getElementById('spinner').style.display = 'none';
                
                // Показываем результаты
                showResults(imei, serviceType);
            }, 1500);
        }
        
        // Показать результаты
        function showResults(imei, serviceType) {
            const resultContent = document.getElementById('result-content');
            
            // Генерируем фиктивные результаты на основе типа проверки
            let resultsHTML = `
                <div class="text-center mb-4">
                    <i class="fas fa-check-circle text-success" style="font-size: 4rem;"></i>
                    <h3 class="mt-3">Проверка завершена</h3>
                    <p>IMEI: ${imei}</p>
                </div>
            `;
            
            // Добавляем специфичные результаты в зависимости от типа проверки
            switch(serviceType) {
                case 'free':
                    resultsHTML += `
                        <table class="history-table">
                            <tr>
                                <th>Параметр</th>
                                <th>Значение</th>
                            </tr>
                            <tr>
                                <td>Модель устройства</td>
                                <td>iPhone 13 Pro Max</td>
                            </tr>
                            <tr>
                                <td>Статус активации</td>
                                <td class="status-clean">Активировано</td>
                            </tr>
                            <tr>
                                <td>Дата производства</td>
                                <td>Октябрь 2022</td>
                            </tr>
                        </table>
                    `;
                    break;
                    
                case 'fmi':
                    resultsHTML += `
                        <table class="history-table">
                            <tr>
                                <th>Параметр</th>
                                <th>Значение</th>
                            </tr>
                            <tr>
                                <td>Статус FMI</td>
                                <td class="status-clean">Выключен</td>
                            </tr>
                            <tr>
                                <td>Дата последней активации</td>
                                <td>15 мая 2023</td>
                            </tr>
                        </table>
                        <div class="mt-4 p-3 bg-dark rounded text-center">
                            <p><i class="fas fa-check-circle text-success me-2"></i> Устройство не привязано к iCloud</p>
                        </div>
                    `;
                    break;
                    
                case 'blacklist':
                    resultsHTML += `
                        <table class="history-table">
                            <tr>
                                <th>Параметр</th>
                                <th>Значение</th>
                            </tr>
                            <tr>
                                <td>Статус в черных списках</td>
                                <td class="status-clean">Не в списке</td>
                            </tr>
                            <tr>
                                <td>Проверка GSMA</td>
                                <td class="status-clean">Чистый</td>
                            </tr>
                        </table>
                    `;
                    break;
                    
                case 'sim_lock':
                    resultsHTML += `
                        <table class="history-table">
                            <tr>
                                <th>Параметр</th>
                                <th>Значение</th>
                            </tr>
                            <tr>
                                <td>SIM-лок</td>
                                <td class="status-warning">Заблокирован</td>
                            </tr>
                            <tr>
                                <td>Оператор блокировки</td>
                                <td>AT&T (США)</td>
                            </tr>
                            <tr>
                                <td>Возможность разблокировки</td>
                                <td class="status-clean">Доступна</td>
                            </tr>
                        </table>
                    `;
                    break;
                    
                case 'activation':
                    resultsHTML += `
                        <table class="history-table">
                            <tr>
                                <th>Параметр</th>
                                <th>Значение</th>
                            </tr>
                            <tr>
                                <td>Статус активации</td>
                                <td class="status-clean">Активировано</td>
                            </tr>
                            <tr>
                                <td>Дата активации</td>
                                <td>12 ноября 2022</td>
                            </tr>
                            <tr>
                                <td>Статус iCloud</td>
                                <td class="status-clean">Не активирован</td>
                            </tr>
                        </table>
                    `;
                    break;
                    
                case 'carrier':
                    resultsHTML += `
                        <table class="history-table">
                            <tr>
                                <th>Параметр</th>
                                <th>Значение</th>
                            </tr>
                            <tr>
                                <td>Оператор</td>
                                <td>Verizon (США)</td>
                            </tr>
                            <tr>
                                <td>Страна</td>
                                <td>Соединенные Штаты</td>
                            </tr>
                            <tr>
                                <td>Статус контракта</td>
                                <td class="status-warning">Активен до 2024</td>
                            </tr>
                        </table>
                    `;
                    break;
                    
                case 'mdm':
                    resultsHTML += `
                        <table class="history-table">
                            <tr>
                                <th>Параметр</th>
                                <th>Значение</th>
                            </tr>
                            <tr>
                                <td>MDM блокировка</td>
                                <td class="status-clean">Отсутствует</td>
                            </tr>
                            <tr>
                                <td>Корпоративный профиль</td>
                                <td class="status-clean">Не обнаружен</td>
                            </tr>
                        </table>
                    `;
                    break;
            }
            
            resultContent.innerHTML = resultsHTML;
            document.getElementById('result-modal').style.display = 'flex';
        }
    </script>
    
    <style>
        /* Минимальные дополнительные стили для адаптации существующих */
        .row {
            display: flex;
            flex-wrap: wrap;
            margin: 0 -15px;
        }
        
        .col-md-4 {
            flex: 0 0 33.333%;
            max-width: 33.333%;
            padding: 0 15px;
        }
        
        .service-card {
            cursor: pointer;
            transition: all 0.4s ease;
            height: 100%;
        }
        
        .service-card.selected {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            background: var(--card-hover-bg);
        }
        
        .service-action {
            cursor: pointer;
        }
        
        @media (max-width: 992px) {
            .col-md-4 {
                flex: 0 0 50%;
                max-width: 50%;
            }
        }
        
        @media (max-width: 768px) {
            .col-md-4 {
                flex: 0 0 100%;
                max-width: 100%;
            }
        }
        
        .mt-3 { margin-top: 1rem; }
        .mt-4 { margin-top: 1.5rem; }
        .mb-4 { margin-bottom: 1.5rem; }
        .p-3 { padding: 1rem; }
        .text-center { text-align: center; }
        .bg-dark { background: rgba(0, 0, 0, 0.2); }
        .rounded { border-radius: 8px; }
        .me-2 { margin-right: 0.5rem; }
    </style>
</body>
</html>
